**æ’ç›˜ â†’ æŒ‚è½½ NTFS â†’ æ‹·è´ â†’ å®‰å…¨å¸è½½**

## ä¸€ã€ç‰©ç†æ’ç›˜åå…ˆç¡®è®¤è®¾å¤‡åï¼ˆéå¸¸å…³é”®ï¼‰

æ’ä¸Š **NTFS ç¡¬ç›˜** åï¼Œä¸è¦æ€¥ç€æŒ‚è½½ï¼Œå…ˆç¡®è®¤å®ƒæ˜¯å“ªä¸ªç›˜ã€‚

```
lsblk -f
```

ä½ ä¼šçœ‹åˆ°ç±»ä¼¼ï¼š

```
NAME   FSTYPE LABEL UUID                                 MOUNTPOINTS
sda
â”œâ”€sda1 vfat
â””â”€sda2 ext4
sdb
â””â”€sdb1 ext4    data
sdc
â””â”€sdc1 ntfs    WD_BACKUP  1A2B3C4D5E6F
```

âš ï¸ é‡ç‚¹çœ‹ï¼š

- `FSTYPE=ntfs`
- **è®¾å¤‡åï¼šæ¯”å¦‚ `/dev/sdc1`**
- ç¡®ä¿ä¸æ˜¯ sda / sdb

åæ–‡å‡è®¾ä½ çš„ NTFS åˆ†åŒºæ˜¯ï¼š
 ğŸ‘‰ **`/dev/sdc1`**

------

## äºŒã€å®‰è£… NTFS æ”¯æŒï¼ˆ99% æƒ…å†µéœ€è¦ï¼‰

Ubuntu / Debian é»˜è®¤**ä¸ä¸€å®š**è£… ntfs-3gã€‚

```
sudo apt update
sudo apt install -y ntfs-3g
```

éªŒè¯ï¼š

```
ntfs-3g --version
```

------

## ä¸‰ã€åˆ›å»ºä¸´æ—¶æŒ‚è½½ç‚¹ï¼ˆåˆ«ä¹±æŒ‚ï¼‰

ä¸è¦ç›´æ¥æŒ‚åˆ° `/mnt` æ ¹ç›®å½•ï¼Œå•ç‹¬å»ºä¸€ä¸ªï¼š

```
sudo mkdir -p /mnt/ntfs
```

------

## å››ã€æŒ‚è½½ NTFS ç¡¬ç›˜ï¼ˆæ¨èæ–¹å¼ï¼‰

### âœ… æœ€ç¨³å¦¥æ–¹å¼ï¼ˆè¯»å†™ + ä¸­æ–‡åä¸ä¹±ç ï¼‰ï¼š

```
sudo mount -t ntfs-3g /dev/sdc1 /mnt/ntfs
```

å¦‚æœä½ çœ‹åˆ°**æ²¡æœ‰ä»»ä½•è¾“å‡º**ï¼Œè¯´æ˜æˆåŠŸã€‚

ç¡®è®¤ï¼š

```
df -h | grep ntfs
```

------

### â— å¸¸è§é”™è¯¯ä¸è§£å†³

#### 1ï¸âƒ£ æç¤ºâ€œWindows hibernated / fast startupâ€

```
The NTFS partition is in an unsafe state
```

è¯´æ˜è¿™å—ç›˜åœ¨ Windows ä¸Š **æ²¡æœ‰æ­£å¸¸å…³æœº**ã€‚

**è§£å†³æ–¹æ³•ï¼ˆä»»é€‰å…¶ä¸€ï¼‰ï¼š**

- æ’å› Windows â†’ **å…³æœºï¼ˆä¸æ˜¯é‡å¯ï¼‰**

- æˆ–åœ¨ Windows ç®¡ç†å‘˜ CMDï¼š

  ```
  powercfg /h off
  ```

ç„¶åå†æ’å›ä¸»æœºã€‚

------

#### 2ï¸âƒ£ åªè¯»æŒ‚è½½

```
ro
```

å¤šåŠä¹Ÿæ˜¯ Windows å¿«é€Ÿå¯åŠ¨å¯¼è‡´ã€‚

------

## äº”ã€æ‹·è´åˆ° sdb çš„ share ç›®å½•ï¼ˆé‡ç‚¹ï¼‰

ä½ çš„ç›®æ ‡è·¯å¾„æ˜¯ï¼š

```
/data/share
```

### âœ… æ¨èï¼šrsyncï¼ˆç¨³å®š + å¯æ–­ç‚¹ï¼‰

```
sudo rsync -avh --progress /mnt/ntfs/ /data/share/
```

å‚æ•°è§£é‡Šï¼ˆä½ ä¸ç”¨è®°ï¼‰ï¼š

- `-a`ï¼šä¿ç•™ç»“æ„
- `-v`ï¼šæ˜¾ç¤ºè¿‡ç¨‹
- `-h`ï¼šäººç±»å¯è¯»
- `--progress`ï¼šæ˜¾ç¤ºé€Ÿåº¦

ğŸ“Œ **æ³¨æ„æœ€åçš„ `/`**

- `/mnt/ntfs/` â†’ æ‹·è´â€œé‡Œé¢çš„å†…å®¹â€
- å°‘äº† `/` ä¼šå¤šåµŒå¥—ä¸€å±‚ç›®å½•

------

### ğŸŸ¡ ç®€å•æ‹·è´ï¼ˆä¸æ¨èå¤§æ•°æ®ï¼‰

```
sudo cp -r /mnt/ntfs/* /data/share/
```

ç¼ºç‚¹ï¼š

- æ— è¿›åº¦
- æ–­äº†è¦é‡æ¥

------

## å…­ã€å¤„ç†æƒé™ï¼ˆé¿å… Samba çœ‹å¾—åˆ°å´æ‰“ä¸å¼€ï¼‰

ä½ ä¹‹å‰ Samba ç”¨çš„æ˜¯ç”¨æˆ· `lluosu`ï¼Œç¡®è®¤æ–‡ä»¶å½’å±ï¼š

```
sudo chown -R lluosu:lluosu /data/share
sudo chmod -R 775 /data/share
```

éªŒè¯ï¼š

```
ls -ld /data/share
```

åº”ç±»ä¼¼ï¼š

```
drwxrwxr-x lluosu lluosu ...
```

------

## ä¸ƒã€å®‰å…¨å¸è½½ NTFS ç¡¬ç›˜ï¼ˆä¸€å®šè¦åšï¼‰

æ‹·è´å®Œæˆåï¼š

```
sync
sudo umount /mnt/ntfs
```

ç¡®è®¤å·²ç»å¸è½½ï¼š

```
lsblk
```

çœ‹ä¸åˆ° `/mnt/ntfs` å³å¯æ‹”ç›˜ã€‚

------

## å…«ã€ä½ **ä¸åº”è¯¥**åšçš„äº‹ï¼ˆé‡è¦ï¼‰

âŒ ä¸è¦ï¼š

- æŠŠ NTFS ç›˜é•¿æœŸæŒ‚ç€å½“ NAS ä¸»ç›˜
- å†™å…¥æ—¶å¼ºåˆ¶æ–­ç”µ
- ç”¨ exFAT/NTFS è·‘ Docker æ•°æ®

âœ” æ­£ç¡®åšæ³•ï¼š

- NTFSï¼š**ä¸€æ¬¡æ€§è¿ç§»**
- ext4ï¼š**é•¿æœŸä½¿ç”¨**

------

## ä¹ã€æ•´ä½“æµç¨‹é€Ÿè§ˆï¼ˆä½ å¯ä»¥ç…§æŠ„ï¼‰

```
lsblk -f
sudo apt install -y ntfs-3g
sudo mkdir -p /mnt/ntfs
sudo mount -t ntfs-3g /dev/sdc1 /mnt/ntfs
sudo rsync -avh --progress /mnt/ntfs/ /data/share/
sudo chown -R lluosu:lluosu /data/share
sudo chmod -R 775 /data/share
sync
sudo umount /mnt/ntfs
```