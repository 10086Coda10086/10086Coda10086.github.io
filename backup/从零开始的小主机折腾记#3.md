æ˜¯æ—¶å€™æŠŠå®ƒæ”¹é€ æˆNASäº†ï¼

## ä¸€ã€NAS-Panel

**NAS-Panel â‰  ä¼ ç»Ÿ NAS ç³»ç»Ÿï¼ˆå¦‚ TrueNASï¼‰**
 å®ƒæ˜¯ä¸€ä¸ªï¼š

- ğŸ§­ Web ç®¡ç†é¢æ¿
- ğŸ“¦ é›†æˆ Docker ç®¡ç†
- ğŸ“ å¸¦æ–‡ä»¶ç®¡ç†åŠŸèƒ½
- ğŸ’¾ å¯ç®¡ç†æŒ‚è½½çš„ç£ç›˜ï¼ˆå¦‚ `/data`ï¼‰

**éå¸¸é€‚åˆä½ è¿™ç§ï¼š**

> å°ä¸»æœº + Ubuntu Server + Docker + å•å—å¤§å®¹é‡æœºæ¢°ç›˜

------

### äºŒã€éƒ¨ç½²å‰æ£€æŸ¥ï¼ˆå¾ˆé‡è¦ï¼Œé¿å…åé¢æŠ¥é”™ï¼‰

#### 1ï¸âƒ£ ç¡®è®¤ Docker æ­£å¸¸

```
docker version
```

èƒ½çœ‹åˆ° Client / Server ä¿¡æ¯å³å¯ã€‚

------

#### 2ï¸âƒ£ ç¡®è®¤æ•°æ®ç›˜å·²æŒ‚è½½ï¼ˆsdbï¼‰

```
lsblk
```

ä½ åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼ï¼š

```
sdb
â””â”€sdb1  465G  /data
```

å¦‚æœ `/data` ä¸å­˜åœ¨æˆ–æ²¡æŒ‚è½½ï¼Œ**å…ˆåˆ«ç»§ç»­**ã€‚

------

### ä¸‰ã€åˆ›å»º NAS-Panel ç›®å½•ç»“æ„ï¼ˆè§„èŒƒåšæ³•ï¼‰

æˆ‘ä»¬æŠŠ **é…ç½®** å’Œ **æ•°æ®ç›˜** åˆ†å¼€ï¼š

```
mkdir -p ~/docker/nas-panel
cd ~/docker/nas-panel
```

------

### å››ã€åˆ›å»º docker-compose.ymlï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰

åœ¨ `~/docker/nas-panel` ç›®å½•ä¸‹ï¼š

```
nano docker-compose.yml
```

ç²˜è´´ä¸‹é¢å†…å®¹ï¼ˆâš ï¸ ä¸è¦æ”¹ç¼©è¿›ï¼‰ï¼š

```
services:
  sun-panel:
    image: hslr/sun-panel:latest
    container_name: sun-panel
    restart: unless-stopped
    ports:
      - "3002:3002"
    volumes:
      - ./conf:/app/conf
      - /var/run/docker.sock:/var/run/docker.sock
      - /data:/mnt/data

```

---

### äº”ã€å¯åŠ¨ NAS-Panel

åœ¨å½“å‰ç›®å½•æ‰§è¡Œï¼š

```
docker compose up -d
```

å¦‚æœä½ çœ‹åˆ°ï¼š

```
âœ” Container nas-panel Started
```

è¯´æ˜æˆåŠŸã€‚

------

### å…­ã€è®¿é—® NAS-Panel Web ç•Œé¢

åœ¨ **å¦ä¸€å°ç”µè„‘ï¼ˆWindowsï¼‰æµè§ˆå™¨** æ‰“å¼€ï¼š

```
http://<æœåŠ¡å™¨IP>:3002
```

ä¾‹å¦‚ï¼š

```
http://192.168.1.100:3002
```

### é»˜è®¤è´¦å·ï¼ˆé¦–æ¬¡ç™»å½•ï¼‰

> âš ï¸ å¦‚æœé¡µé¢æç¤ºåˆ›å»ºç®¡ç†å‘˜ï¼ŒæŒ‰æç¤ºæ¥
>  ä¸åŒç‰ˆæœ¬ç•¥æœ‰å·®å¼‚

é€šå¸¸æ˜¯ï¼š

- ç”¨æˆ·åï¼šadmin@sun.cc
- å¯†ç ï¼š12345678

**ç™»å½•åç¬¬ä¸€ä»¶äº‹ï¼šæ”¹å¯†ç **

------

## äºŒã€ File-browser

### ä¸€ã€ä½¿ç”¨ç›®çš„

åœ¨ Ubuntu Server ä¸Šï¼Œä¸º **ç‹¬ç«‹æ•°æ®ç›˜ï¼ˆå¦‚ `/data`ï¼Œsdbï¼‰** æä¾›ä¸€ä¸ªï¼š

- æµè§ˆå™¨è®¿é—®çš„æ–‡ä»¶ç®¡ç†ç•Œé¢
- ç”¨äº NAS åœºæ™¯ä¸‹çš„æ–‡ä»¶ä¸Šä¼  / ä¸‹è½½ / ç®¡ç†
- ä¸ Sun-Panel æ­é…ï¼Œä½œä¸ºæ–‡ä»¶ç®¡ç†å…¥å£

------

### äºŒã€å‰ç½®æ¡ä»¶

- Ubuntu Server å·²å®‰è£… Docker / Docker Compose
- æ•°æ®ç›˜ï¼ˆsdbï¼‰å·²æ­£ç¡®æŒ‚è½½åˆ° `/data`
- ä½¿ç”¨æ™®é€šç”¨æˆ·ï¼ˆé rootï¼‰ç®¡ç† Docker

------

### ä¸‰ã€æ¨èç›®å½•ç»“æ„

```text
/home/lluosu/docker/filebrowser/
â”œâ”€ docker-compose.yml
â””â”€ config/
```

è¯´æ˜ï¼š

- `docker-compose.yml`ï¼šå®¹å™¨å®šä¹‰
- `config/`ï¼šFile Browser é…ç½®æŒä¹…åŒ–ç›®å½•
  **å¿…é¡»å­˜åœ¨ä¸”å¯å†™**

------

### å››ã€docker-compose.ymlï¼ˆç¨³å®šå¯ç”¨ç‰ˆæœ¬ï¼‰

```yaml
services:
  filebrowser:
    image: filebrowser/filebrowser:latest
    container_name: filebrowser
    restart: unless-stopped
    ports:
      - "8081:80"
    volumes:
      - /data:/srv
      - ./config:/config
    environment:
      - PUID=1000
      - PGID=1000
```

#### å…³é”®è¯´æ˜

| é¡¹                 | ä½œç”¨                             |
| ------------------ | -------------------------------- |
| `/data:/srv`       | å°† sdb æ•°æ®ç›˜æ˜ å°„ä¸ºæ–‡ä»¶æ ¹ç›®å½•    |
| `./config:/config` | ä¿å­˜ settings.json ç­‰é…ç½®        |
| `PUID/PGID=1000`   | ä½¿ç”¨å½“å‰ç”¨æˆ·æƒé™ï¼Œé¿å… root å†™å…¥ |

------

### äº”ã€å®‰è£…ä¸å¯åŠ¨æ­¥éª¤

#### 1ï¸âƒ£ åˆ›å»ºç›®å½•

```bash
mkdir -p ~/docker/filebrowser/config
cd ~/docker/filebrowser
```

------

#### 2ï¸âƒ£ å¯åŠ¨å®¹å™¨

```bash
docker compose up -d
```

------

#### 3ï¸âƒ£ æ£€æŸ¥è¿è¡ŒçŠ¶æ€ï¼ˆå¿…é¡»ï¼‰

```bash
docker ps
```

åº”çœ‹åˆ°ï¼š

```text
filebrowser   Up ...
```

å¦‚æœçŠ¶æ€ä¸º `Restarting`ï¼Œè¯´æ˜å¯åŠ¨å¤±è´¥ã€‚

------

### å…­ã€å¸¸è§é”™è¯¯ä¸æ’æŸ¥

#### âŒ é—®é¢˜ç°è±¡

- æµè§ˆå™¨æ— æ³•è®¿é—® `http://æœåŠ¡å™¨IP:8081`
- `docker ps` æ˜¾ç¤ºï¼š

```text
filebrowser   Restarting
```

- æ—¥å¿—æŠ¥é”™ï¼š

```text
cp: can't create '/config/settings.json': Permission denied
```

------

#### â— æ ¹å› 

- `config/` ç›®å½• **å±ä¸»æˆ–æƒé™ä¸æ­£ç¡®**
- å®¹å™¨è¿è¡Œç”¨æˆ·ï¼ˆPUID=1000ï¼‰æ— å†™æƒé™
- File Browser æ— æ³•ç”Ÿæˆ `settings.json`ï¼Œç›´æ¥é€€å‡º

------

#### âœ… æ­£ç¡®ä¿®å¤æ–¹å¼ï¼ˆæ¨èï¼‰

```bash
cd ~/docker/filebrowser
sudo chown -R lluosu:lluosu config
```

ç¡®è®¤ï¼š

```bash
ls -ld config
```

åº”ä¸ºï¼š

```text
drwxr-xr-x lluosu lluosu config
```

ç„¶åé‡å¯ï¼š

```bash
docker compose up -d
```

------

### ä¸ƒã€è®¿é—®æ–¹å¼

æµè§ˆå™¨è®¿é—®ï¼š

```text
http://æœåŠ¡å™¨IP:8081
```

é»˜è®¤ç™»å½•ä¿¡æ¯ï¼š

- ç”¨æˆ·åï¼šadmin
- å¯†ç ï¼šadmin

ç™»å½•åå»ºè®®ç«‹å³ä¿®æ”¹å¯†ç ã€‚

------

### å…«ã€ç›®å½•æ˜ å°„å…³ç³»è¯´æ˜ï¼ˆé˜²æ­¢æ··æ·†ï¼‰

| å®¿ä¸»æœº                        | å®¹å™¨å†…    | å®é™…æ„ä¹‰           |
| ----------------------------- | --------- | ------------------ |
| `/data`                       | `/srv`    | sdb æœºæ¢°ç›˜çœŸå®æ•°æ® |
| `~/docker/filebrowser/config` | `/config` | File Browser é…ç½®  |

åœ¨ Web UI ä¸­çœ‹åˆ°çš„æ‰€æœ‰æ–‡ä»¶ï¼Œ**å®é™…éƒ½ä½äº `/data`**ã€‚

------

### ä¹ã€éƒ¨ç½²å®Œæˆåçš„å»ºè®®

- å°† File Browser å…¥å£æ·»åŠ åˆ° **Sun-Panel**
- ä¸‹è½½ç±»å®¹å™¨ï¼ˆqBittorrentï¼‰ç»Ÿä¸€æŒ‡å‘ `/data`
- Docker é…ç½®æ–‡ä»¶ä¸è¦æ”¾åœ¨ `/data`
- å®šæœŸå…³æ³¨ç£ç›˜ I/Oï¼Œé¿å…æœºæ¢°ç›˜é¢‘ç¹å”¤é†’

## é¢æ¿é…ç½®

è¿™ä¸ªåœ°æ–¹è‡ªç”±å‘æŒ¥å³å¯

<img width="1920" height="1080" alt="Image" src="https://github.com/user-attachments/assets/80b69071-08a7-424f-8f08-79592930e263" />

åƒè¿™æ ·å°±æ˜¯ä¸€ä¸ªå¾ˆåˆæ­¥çš„é…ç½®ï¼Œåé¢æˆ‘ä»¬ä¼šæ…¢æ…¢æŠŠå®ƒæ‰©å±•èµ·æ¥
